(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d886e2ce"],{"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"67bb":function(t,e,n){t.exports=n("f921")},"75fc":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("a745"),a=n.n(r);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){if(a()(t))return o(t)}var c=n("774e"),s=n.n(c),u=n("c8bb"),d=n.n(u),l=n("67bb"),p=n.n(l);function f(t){if("undefined"!==typeof p.a&&d()(Object(t)))return s()(t)}function m(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?s()(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t){return i(t)||f(t)||m(t)||g()}},"774e":function(t,e,n){t.exports=n("d2d5")},a745:function(t,e,n){t.exports=n("f410")},c8bb:function(t,e,n){t.exports=n("54a1")},cdd5:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",{attrs:{bordered:!1}},[n("section",{staticClass:"add-btn"},[n("a-breadcrumb",{staticClass:"title"},[n("a-breadcrumb-item",{staticClass:"font-menu",on:{click:t.routerToIndex}},[t._v("\n                首页\n            ")]),n("a-breadcrumb-item",[t._v("\n                配置列表\n            ")])],1)],1),n("a-divider",{staticClass:"divider"}),n("section",{staticClass:"content"},[n("a-table",{attrs:{columns:t.columns,"data-source":t.tableData,pagination:t.pagination,"row-key":function(t){return t.id},scroll:{x:1700}},on:{change:t.handleTableChange},scopedSlots:t._u([t._l(["name","val"],(function(e){return{key:e,fn:function(r,a){return[n("div",{key:e},[a.editable?n("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:r},on:{change:function(n){return t.handleChange(n.target.value,e)}}}):[t._v(t._s(r))]],2)]}}})),{key:"operation",fn:function(e,r,a){return[n("div",{staticClass:"editable-row-operations"},[r.editable?n("span",[n("a",{on:{click:function(){return t.save(r,a)}}},[t._v("保存")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确认取消？","cancel-text":"取消","ok-text":"确认"},on:{confirm:function(){return t.cancel(r.name,a)}}},[n("a",[t._v("取消")])])],1):n("span",[n("a",{on:{click:function(){return t.edit(r,a)}}},[t._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}}),n("a-popconfirm",{attrs:{title:"确定要删除吗？"},on:{confirm:function(e){return t.handleDelete(r)}}},[n("a",{attrs:{href:"javascript:;",type:"primary"}},[t._v(" 删除 ")])])],1)])]}},{key:"groupName",fn:function(e,r){return[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.routeGroup(r)}}},[t._v(t._s(r.groupName))])]}},{key:"versionName",fn:function(e,r){return[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.routeVersion(r)}}},[t._v(t._s(r.versionName))])]}},{key:"environmentName",fn:function(e,r){return[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.routeEnv(r)}}},[t._v(t._s(r.environmentName))])]}},{key:"projectName",fn:function(e,r){return[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.routeProject(r)}}},[t._v(t._s(r.projectName))])]}},{key:"productName",fn:function(e,r){return[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.routeProduct(r)}}},[t._v(t._s(r.productName))])]}}],null,!0)})],1)],1)},a=[],o=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("bd86")),i=(n("7f7f"),n("75fc")),c=(n("96cf"),n("3b8d"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=[{title:"产品线列表",dataIndex:"productName",align:"center",scopedSlots:{customRender:"productName"}},{title:"工程列表",dataIndex:"projectName",align:"center",scopedSlots:{customRender:"projectName"}},{title:"环境列表",dataIndex:"environmentName",align:"center",scopedSlots:{customRender:"environmentName"}},{title:"版本列表",dataIndex:"versionName",align:"center",scopedSlots:{customRender:"versionName"}},{title:"分组列表",dataIndex:"groupName",align:"center",scopedSlots:{customRender:"groupName"}},{title:"name",dataIndex:"name",align:"center",scopedSlots:{customRender:"name"}},{title:"value",dataIndex:"val",align:"center",scopedSlots:{customRender:"val"}},{title:"操作",dataIndex:"operation",align:"center",fixed:"right",width:150,scopedSlots:{customRender:"operation"}}],l={data:function(){return{columns:d,pagination:{total:0,current:1,pageSize:10,sortBy:"id desc",hideOnSinglePage:!0,showTotal:function(t,e){return"显示 ".concat(e[0]," ~ ").concat(e[1]," 条记录，共 ").concat(t," 条记录")}},options:[],itemData:[],tableData:[],target:{name:"",val:""}}},created:function(){this.getAllList()},methods:{getAllList:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$api.config.getItemQuery({key:this.$route.query.key||"",val:this.$route.query.val||"",pageNo:this.pagination.current,pageSize:this.pagination.pageSize}).then((function(t){e.tableData=t.data.dataList,e.pagination.total=t.data.total}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleTableChange:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.pagination.pageSize=e.pageSize,this.pagination.current=e.current,t.next=4,this.getAllList();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$api.config.deleteConfig(e.id).then((function(t){0===t.status?(n.$message.success("删除成功"),n.getAllList()):n.$message.error(t.msg)}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleChange:function(t,e){this.target[e]=t},routerToIndex:function(){this.$router.push("/index")},edit:function(t,e){var n=Object(i["a"])(this.tableData);n[e].editable=!0,this.tableData=n,this.target={name:t.name,val:t.val}},save:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,n){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$api.config.addConfig({id:e.id,name:this.target.name,val:this.target.val,groupId:e.groupId,groupName:e.groupName,versionId:e.versionId,versionName:e.versionName}).then((function(t){0===t.status?(r.$message.success("修改成功"),r.getAllList()):r.$message.error(t.msg)})).catch((function(t){r.$message.error(t.msg)}));case 1:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),cancel:function(t,e){var n=Object(i["a"])(this.tableData);n[e].editable=!1,this.getAllList()},routeProduct:function(t){this.$router.push({path:"/listProject",query:{productId:t.productId}}),this.addLocalStorage(t)},routeGroup:function(t){this.$router.push({path:"/listConfigItem",query:{groupId:t.groupId}}),this.addLocalStorage(t)},routeVersion:function(t){this.$router.push({path:"/listConfigGroup",query:{versionId:t.versionId}}),this.addLocalStorage(t)},routeEnv:function(t){this.$router.push({path:"/listVersion",query:{environmentId:t.environmentId}}),this.addLocalStorage(t)},routeProject:function(t){this.$router.push({path:"/listEnv",query:{projectId:t.projectId}}),this.addLocalStorage(t)},addLocalStorage:function(t){localStorage.setItem("rcc-info",JSON.stringify(u(u({},JSON.parse(localStorage.getItem("rcc-info"))),{},{productId:t.productId,productName:t.productName,projectId:t.projectId,projectName:t.projectName,environmentId:t.environmentId,environmentName:t.environmentName,versionId:t.versionId,versionName:t.versionName,groupId:t.groupId,groupName:t.groupName})))}}},p=l,f=n("2877"),m=Object(f["a"])(p,r,a,!1,null,null,null);e["default"]=m.exports},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);